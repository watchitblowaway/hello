local owners = {"antikurrr", "RichNikga"}
local premium = {"i_DDOSRobloxServers", "14kxzR1", "Vxr_r"}
local ranks = {"[SCRIPT DEVELOPER]", "Script User", "Premium Script User"}

local localPlayer = game.Players.LocalPlayer
local replicatedStorage = game:GetService("ReplicatedStorage")
replicatedStorage:WaitForChild("Skunked"):FireServer()

local function updateRankTag(player, rank, color)
    local head = player.Character:WaitForChild("Head")
    local gui = head:WaitForChild("Gui")
    local mainFrame = gui:WaitForChild("MainFrame")
    local rankLabel = mainFrame:WaitForChild("Rank")

    rankLabel.Visible = true
    rankLabel.Text = rank
    rankLabel.TextColor3 = color
end

local function handlePlayer(player)
    player.CharacterAdded:Connect(function(character)
        character:WaitForChild("Head")

        if table.find(owners, player.Name) then
            updateRankTag(player, ranks[1], Color3.fromRGB(196, 40, 28))
            warn("A Developer of SL2.FUCKER Is In The Server: " .. player.Name)
        end

        character.Head.ChildAdded:Connect(function(child)
            if child.Name == "Emote2" then
                local textLabel = child:WaitForChild("TextLabel")
                local nameLabel = character.Head:WaitForChild("Gui"):WaitForChild("MainFrame"):WaitForChild("NameLabel")

                if textLabel.Text == "[" .. nameLabel.Text .. "] [SHOUT] *ARE YOU SKUNKED ?!*" then
                    if player == localPlayer then
                        print("[SL2.FUCKER] | Welcome, " .. localPlayer.Name)
                    elseif table.find(premium, player.Name) then
                        updateRankTag(player, ranks[3], Color3.fromRGB(249, 233, 153))
                    else
                        updateRankTag(player, ranks[2], Color3.fromRGB(255, 0, 203))
                    end
                end
            end
        end)
    end)
end

for _, player in pairs(game.Players:GetPlayers()) do
    if player.Character and player.Character:FindFirstChild("Head") then
        handlePlayer(player)
    end
end

game.Players.PlayerAdded:Connect(function(player)
    handlePlayer(player)
end)
